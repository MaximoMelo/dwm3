<!DOCTYPE html>
<html>
    <head>
        <title>Mi Perfil</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        
        <style>
            /* Variables de tema oscuro consistentes con index.html */
            :root {
                --dark-bg: #1e1e28;     /* Fondo principal oscuro */
                --card-bg: #2d2d39;     /* Fondo de contenedores (la tarjeta de login/perfil) */
                --dark-border: #444455; /* Borde oscuro y divisor de línea */
                --text-light: #f8f9fa;  /* Texto claro */
            }

            /* 1. Fondo del Body oscuro */
            body {
                background-color: var(--dark-bg) !important;
            }

            /* 2. Estilo de la Tarjeta de Perfil */
            .profile-card {
                max-width: 500px; /* Un poco más ancha que la de login */
                width: 90%;
                padding: 30px; 
                border-radius: 10px;
                background-color: var(--card-bg) !important; /* Fondo de tarjeta oscuro */
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6); 
            }

            /* 3. Estilos de Texto y Títulos */
            .profile-card h2, 
            .profile-card label {
                color: var(--text-light) !important;
            }
            .profile-card h2 {
                margin-bottom: 25px !important;
                border-bottom: 2px solid var(--dark-border);
                padding-bottom: 10px;
            }
            
            /* 4. Estilo de Inputs */
            .form-control {
                background-color: var(--dark-bg) !important;
                border-color: var(--dark-border) !important;
                color: var(--text-light) !important;
                /* Eliminamos el margin-bottom aquí y lo manejamos con mb-3 en el HTML */
            }
            
            /* Estilo para los inputs deshabilitados (datos del usuario) */
            .form-control:disabled {
                opacity: 0.7;
            }

            /* 5. Estilo de las Etiquetas (Labels) y Campos */
            .profile-card label {
                font-size: 0.9rem !important;
                min-width: 150px; /* Asegura alineación vertical de las etiquetas */
                text-align: right;
                margin-bottom: 0;
            }
            .form-label-container {
                display: flex;
                align-items: center;
                margin-bottom: 1rem;
            }
            .form-label-container .form-control {
                flex-grow: 1;
            }

            /* 6. Icono */
            .icon-top {
                max-width: 60px; 
                height: auto;
                margin-bottom: 15px; 
                border-radius: 50%; /* Si quieres que sea circular */
                border: 3px solid var(--dark-border);
            }
            
            /* 7. Botones */
            .btn-primary {
                background-color: #0d6efd;
                border-color: #0d6efd;
                font-size: 1rem !important; /* Estándar */
            }

        </style>
        
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    </head>
    
    <body class="d-flex align-items-center justify-content-center vh-100">

        <div class="profile-card"> 
            <h2 class="text-center">Mi Perfil</h2>
            
            <div class="d-flex justify-content-center">
                <img src="https://st3.depositphotos.com/6672868/13701/v/450/depositphotos_137014128-stock-illustration-user-profile-icon.jpg" alt="Icono de Perfil" class="icon-top">
            </div>

            <form>
                
                <div class="form-label-container">
                    <label for="nombre" class="form-label">Nombre:</label>
                    <input type="text" class="form-control" id="nombre" value="[Nombre del Cliente]" disabled>
                </div>
                
                <div class="form-label-container">
                    <label for="email" class="form-label">Email:</label>
                    <input type="email" class="form-control" id="email" value="[Email del Cliente]" disabled>
                </div>

                <div class="form-label-container">
                    <label for="direccion" class="form-label">Dirección:</label>
                    <input type="text" class="form-control" id="direccion" value="[Dirección Guardada]" disabled>
                </div>

                <div class="form-label-container">
                    <label for="metodopago" class="form-label">Método de pago asociado:</label>
                    <input type="text" class="form-control" id="metodopago" value="**** 4567" disabled>
                </div>

                <div class="form-label-container">
                    <label for="numtelefono" class="form-label">Número de teléfono:</label>
                    <input type="text" class="form-control" id="numtelefono" value="+56 9 XXXX XXXX" disabled>
                </div>

                <div class="d-grid gap-2 mt-4">
                    <button type="button" class="btn btn-primary btn-lg">Mis Pedidos</button>
                </div>
                
                <div class="d-grid gap-2 mt-2">
                    <button type="button" class="btn btn-secondary btn-lg">Editar Datos</button>
                </div>
                
            </form>
            
            <div class="text-center mt-4">
                 <a href="index.html" class="btn btn-link text-light">Volver a la tienda</a>
            </div>
            
        </div>
        
        <script>
            // LÓGICA PARA CARGAR EL EMAIL DESDE localStorage
            document.addEventListener('DOMContentLoaded', function() {
                const userEmail = localStorage.getItem('userEmail');
                const emailInput = document.getElementById('email');
                
                if (userEmail && emailInput) {
                    emailInput.value = userEmail;
                    
                    // Opcional: Usar la parte del nombre del email como Nombre del Cliente
                    const namePart = userEmail.substring(0, userEmail.indexOf('@'));
                    document.getElementById('nombre').value = namePart.charAt(0).toUpperCase() + namePart.slice(1);
                }
            });
        </script>
    </body>
</html>